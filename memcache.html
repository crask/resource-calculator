<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Memcache 资源计算器 | Ksarch-Store</title>
  <link rel="stylesheet" type="text/css" href="http://cdn.bootcss.com/twitter-bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/jquery-ui-bootstrap/0.5pre/css/custom-theme/jquery-ui-1.10.0.custom.css">
  <link rel="stylesheet" type="text/css" href="css/common.css">
  <link rel="stylesheet" type="text/css" href="css/memcache.css">
  <script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
  <script src="http://cdn.bootcss.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <script language="javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery-ui-bootstrap/0.5pre/js/jquery-ui-1.9.2.custom.min.js"></script>
  <script language="javascript" src="js/common.js"></script>
  <script language="javascript" src="js/memcache.js"></script>
</head>
<body>

<header>
<h1 class="center">Memcache 资源计算器</h1>
</header>

<div class="container">
<div class="row well">

<form class="form-horizontal" role="form">
  <div class="form-group">
    <label class="col-sm-3 control-label">
      部署地域 
    </label>
    <div class="col-sm-6">
      <div class="btn-group btn-group-sm non-form-elem-lg" data-toggle="buttons">
        <label class="btn btn-default region active"><input class="checkbox-region" idcs="2" type="checkbox" include="yes">北京(2副本)</label>
        <label class="btn btn-default region"><input class="checkbox-region" idcs="1" type="checkbox">南京(1副本)</label>
        <label class="btn btn-default region"><input class="checkbox-region" idcs="1" type="checkbox">杭州(1副本)</label>
      </div>
    </div>
    <div class="col-sm-3"></div>
  </div>
  <!--
  <div class="form-group">
    <label class="col-sm-3 control-label">每地域副本数</label>
    <div class="col-sm-5">
      <div id="btn-copynum" class="btn-group btn-group-sm non-form-elem-lg">
        <button type="button" id="copynum-1" class="copynum btn btn-default" active>单副本</button>
        <button type="button" id="copynum-2" class="copynum btn btn-default">两个副本</button>
        <button type="button" id="copynum-3" class="copynum btn btn-default">三个副本</button>
      </div>
    </div>
    <div class="col-sm-4"></div>
  </div>
  -->
  <input type="hidden" id="copynum" name="copynum" value="1" />
  <div class="form-group">
    <label class="col-sm-3 control-label">Key 的长度</label>
    <div class="col-sm-6"><div id="slider-keylen" class="non-form-elem"></div></div>
    <div class="col-sm-3"><div id="slider-ui-keylen" class="slider-ui"></div></div>
  </div>
  <div class="form-group">
    <label class="col-sm-3 control-label">Key 的总数</label>
    <div class="col-sm-6"><div id="slider-keynum" class="non-form-elem"></div></div>
    <div class="col-sm-3"><div id="slider-ui-keynum" class="slider-ui"></div></div>
  </div>
  <div class="form-group">
    <label class="col-sm-3 control-label">Value 的长度</label>
    <div class="col-sm-6"><div id="slider-vallen" class="non-form-elem"></div></div>
    <div class="col-sm-3"><div id="slider-ui-vallen" class="slider-ui"></div></div>
  </div>
  <div class="form-group">
    <label class="col-sm-3 control-label">单集群读 QPS</label>
    <div class="col-sm-6"><div id="slider-rqps" class="non-form-elem"></div></div>
    <div class="col-sm-3"><div id="slider-ui-rqps" class="slider-ui"></div></div>
  </div>
  <div class="form-group">
    <label class="col-sm-3 control-label">单集群写 QPS</label>
    <div class="col-sm-6"><div id="slider-wqps" class="non-form-elem"></div></div>
    <div class="col-sm-3"><div id="slider-ui-wqps" class="slider-ui"></div></div>
  </div>
  <div class="form-group">
    <label class="col-sm-3 control-label" style="margin-top: 10px;">总资源量</label>
    <div class="col-sm-6">
      <div class="result">数据量 =
        (<span id="result-keylen" class="info" data-toggle="tooltip" title="Key的长度"></span> +
        <span id="result-vallen" class="info" data-toggle="tooltip" title="Value的长度"></span>) *
        <span id="result-keynum" class="info" data-toggle="tooltip" title="Key的总数"></span> *
        <span class="result-copynum"></span>副本
        = <span id="data-quantity" class="quantity"></span>
      </div>
      <div class="result">需机器 =
        max(<span id="result-bymem" class="info" data-toggle="tooltip" title="按内存算需机器 = 数据量 / 40GB每台(64G*60%)"></span>,
        <span id="result-bycpu" class="info" data-toggle="tooltip" title="按CPU算需机器 = 读写QPS / 4万每台"></span>,
        <span id="result-bynet" class="info" data-toggle="tooltip" title="按网卡算 = 读写QPS * KV总长度/ 70MB每台"></span>) *
        <span class="result-copynum"></span>副本
        = <span id="server-quantity" class="quantity"></span> 台</div>
    </div>
    <div class="col-sm-3"></div>
  </div>
</form>

</div>
</div>

</body>
</html>

